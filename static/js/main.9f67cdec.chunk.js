(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,a){},108:function(e,t,a){},110:function(e,t,a){},112:function(e,t,a){},114:function(e,t,a){},116:function(e,t,a){},118:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},119:function(e,t,a){},121:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(32),c=a.n(r),i=a(126),o=a(2),l=a(3),u=a(5),m=a(4),p=a(6),h=a(127),g=a(122),d=(a(46),a(11)),v=a(16),f=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.placeholder,n=t.name,r=t.type,c=t.value;return s.a.createElement("div",{className:"field"},s.a.createElement("label",null,n.charAt().toUpperCase()+n.slice(1)),s.a.createElement("input",{type:r,name:n,placeholder:a,value:c,onChange:function(t){return e.props.onChange(t)}}))}}]),t}(s.a.Component),E=a(13),b=a.n(E),k=function e(){var t=this;Object(o.a)(this,e),this.signup=function(e,a){return t.service.post("/signup",{username:e,password:a}).then(function(e){return e}).catch(function(e){return e.response})},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then(function(e){return e}).catch(function(e){return e.response})},this.loggedin=function(){return t.service.get("/currentUser").then(function(e){return e}).catch(function(e){return e.response})},this.logout=function(){return t.service.get("/logout").then(function(e){return e}).catch(function(e){return e.response})},this.service=b.a.create({baseURL:"https://best-of-me.herokuapp.com/auth/",withCredentials:!0})},j=a(125),O=a(33),y=(a(29),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).onChangeHandler=function(e){console.log(e.target.value);var t=e.target,n=t.name,s=t.value;a.setState(Object(v.a)({},n,s))},a.logIn=function(e){e.preventDefault();var t=a.state,n=t.email,s=t.password;a.setState({message:""}),console.log(n,s,a.state),a.service.login(n,s).then(function(e){200===e.status?(console.log(e),console.log(a.props),a.props.setUser(e.data),a.setState({redirect:!0})):(console.log(e.status),a.setState({email:"",password:"",message:e.data.message}))}).catch(function(e){console.log(Object(d.a)({},e)),a.setState(Object(d.a)({},e.data))})},console.log(e),a.state={email:"",password:""},a.service=new k,a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.props.currentUser?s.a.createElement(j.a,{to:"/"}):s.a.createElement("div",{className:"auth"},s.a.createElement("div",null,s.a.createElement("div",{className:"message"},this.state.message),s.a.createElement(f,{type:"email",name:"email",placeholder:"Email",onChange:this.onChangeHandler,value:this.state.email}),s.a.createElement(f,{type:"password",name:"password",placeholder:"*********",onChange:this.onChangeHandler,value:this.state.password}),s.a.createElement("button",{onClick:function(t){return e.logIn(t)}},"Login"),s.a.createElement(O.a,{to:"/auth/signup"},"Sign up")))}}]),t}(s.a.Component)),w=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).onChangeHandler=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(v.a)({},n,s))},a.signUp=function(e){e.preventDefault();var t=a.state,n=t.email,s=t.password;a.setState({message:""}),a.service.signup(n,s).then(function(e){201===e.status?a.setState({redirect:!0}):(console.log(e.status),a.setState({email:"",password:"",message:e.data.message}))}).catch(function(e){console.log(Object(d.a)({},e)),a.setState(Object(d.a)({},e.data))})},a.state={email:"",password:""},a.service=new k,a.redirect=!1,a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.state.redirect?s.a.createElement(j.a,{to:"/auth/login"}):s.a.createElement("div",{className:"auth"},s.a.createElement("div",null,s.a.createElement("div",{className:"message"},this.state.message),s.a.createElement(f,{type:"email",name:"email",placeholder:"Email",onChange:this.onChangeHandler,value:this.state.email}),s.a.createElement(f,{type:"password",name:"password",placeholder:"*********",onChange:this.onChangeHandler,value:this.state.password}),s.a.createElement("button",{onClick:function(t){return e.signUp(t)}},"Signup"),s.a.createElement(O.a,{to:"/auth/login"},"Log in")))}}]),t}(s.a.Component),x=function(e){function t(e){var a;return Object(o.a)(this,t),a=Object(u.a)(this,Object(m.a)(t).call(this,e)),console.log(e),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"App"},s.a.createElement(h.a,null,s.a.createElement(g.a,{path:"/auth/signup",component:w}),s.a.createElement(g.a,{path:"/auth/login",render:function(){return s.a.createElement(y,{currentUser:e.props.currentUser,setUser:e.props.setUser})}}),s.a.createElement(g.a,{component:function(){return s.a.createElement("div",null,"404")}})))}}]),t}(s.a.Component),U=(a(71),function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"progress-bar"},s.a.createElement("div",{className:"filler",style:{width:"".concat(this.props.percentage,"%")}}))}}]),t}(s.a.Component)),C=(a(73),a(17)),N=a.n(C),S=a(14),H=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).completeTask=function(e){a.setState({index:e,yupi:"yupi",boom:"boom"}),console.log(e);var t=a.props.currentUser;a.service.put("/users/".concat(t._id,"/tasks/random"),{index:e}).then(function(t){if(200!==t.status)return Promise.reject(t);a.props.history.replace("/"),setTimeout(function(){a.props.setUser(t.data),a.setState({index:e,yupi:"",boom:""})},1e3)}).catch(function(e){return console.log(e)})},a.state={loading:!0,yupi:"",boom:"",index:null},a.service=b.a.create({baseURL:"https://best-of-me.herokuapp.com",withCredentials:!0}),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"initTasks",value:function(){var e=this,t=this.props.currentUser;this.service.get("/tasks/random").then(function(a){if(200===a.status){var n=a.data.map(function(e){return e._id});return e.service.put("/users/".concat(t._id,"/tasks"),{tasks:n})}return Promise.reject(a)}).then(function(a){t.tasks=a.data.tasks.map(function(e){return e.data}),e.setState({loading:!1}),e.props.setUser(t)}).catch(function(e){return console.log(e.response)})}},{key:"componentDidMount",value:function(){0===this.props.currentUser.tasks.length&&this.initTasks()}},{key:"componentWillMount",value:function(){var e=N.a.parse(this.props.location.search).index;void 0!==e&&null===this.state.index&&this.completeTask(e)}},{key:"render",value:function(){var e=this.state,t=e.yupi,a=e.boom,n=e.index,r=this.props.currentUser,c=r.level,i=(r.experience,r.background),o=r.pet,l=r.accessory;r.experienceNextLevel;i=i||"/static/svg/blue-background.svg";var u=this.props.currentUser.tasks;return s.a.createElement("div",{className:"home"},s.a.createElement("div",{className:"background",style:{backgroundImage:"url(".concat(i,")")}},s.a.createElement("div",{className:"level"},s.a.createElement(U,{percentage:50}),s.a.createElement("div",null,"Level ",c)),s.a.createElement(S.a,{className:"pet ".concat(""===t?"boing":t),src:o||"/static/svg/bom.svg"}),l||s.a.createElement(S.a,{className:"accessory",src:l||"/static/svg/gafas.svg"}),s.a.createElement("ul",{className:"tasks"},u.map(function(e,t){return e?s.a.createElement("li",{key:t},s.a.createElement(O.a,{to:"/tasks/".concat(e._id,"?index=").concat(t),className:"Oval ".concat(n==t?a:"")},s.a.createElement("p",{className:"OvalText"},e.name))):s.a.createElement("li",{key:t},s.a.createElement("div",{className:"Oval"}," "))}))))}}]),t}(s.a.Component),T=function(e){return console.log(e.match.params),s.a.createElement("div",null,"Diary")},A=(a(82),function(e){var t=e.location.pathname;return console.log(t),s.a.createElement("header",null,s.a.createElement(O.a,{to:"/"===t?"/profile":"/"},s.a.createElement(S.a,{class:"icon",src:"/"===t?"/static/svg/profile-icon.svg":"/static/svg/back-icon.svg"})),s.a.createElement("h1",null,"/"===t?"BoM":function(e){return(e=e.replace(/^\/(\w*)(\/.*)?/,"$1").replace(/([A-Z])/," $1")).charAt().toUpperCase()+e.slice(1)}(t)))}),L=a(20),W=a.n(L),M=(a(84),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).setSelection=function(e,t,n){var s=a.state.selections;console.log(s,t,n),s[t]=e,console.log(s),console.log(a.props.history),a.props.history.push(n),a.setState({selections:s})},a.state=Object(d.a)({},W.a,{selections:{feelings:null,situations:null,happenings:null}}),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;console.log(this.state);var t=this.state,a=t.feelings,n=t.situations,r=t.happenings,c=t.selections,i=t.advises,o=this.props.match.params.id||"feelings";console.log(o,this.props.match.params.id);var l=Object(d.a)({},a),u="How are you feeling?",m="/speedHelp/happenings";c.feelings&&(o="happenings",l=Object(d.a)({},r),u="What happend?",m="/speedHelp/situations"),c.happenings&&(o="situations",l=Object(d.a)({},n),u="Where are you?",m="/speedHelp/advises"),c.situations&&(l=Object(d.a)({},i),u="Advise:");var p=[];for(var h in console.log(o,l,this.state.selections),l)l[h].option=h,p.push(l[h]);return console.log(p,this.props.match,m),s.a.createElement("div",{className:"SpeedHelp"},s.a.createElement("h2",null,u),s.a.createElement("ul",null,p.map(function(t){return s.a.createElement("li",{key:t.text,onClick:function(){return e.setSelection(t.option,o,m)}},""!==t.image?s.a.createElement("img",{src:t.image,alt:t.text}):"",s.a.createElement("p",null,t.text))})))}}]),t}(s.a.Component)),B=a(124),I=a(40),R=(a(106),function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"Items"},this.props.items.map(function(e){return s.a.createElement("div",{className:"item",key:e.name},s.a.createElement("div",{className:"left"},s.a.createElement("img",{src:e.image,alt:e.name})),s.a.createElement("div",{className:"right"},s.a.createElement("h3",null,e.name),s.a.createElement("p",null,e.description),s.a.createElement("div",null,s.a.createElement("b",null,"$",e.price),s.a.createElement("button",null,"Comprar"))))}))}}]),t}(s.a.Component)),_=(a(108),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).service=b.a.create({baseURL:"https://best-of-me.herokuapp.com",withCredentials:!0}),e.state={page:"",loading:!0},e}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.service("/items").then(function(t){console.log(t.data),e.setState({items:t.data,loading:!1})}).catch(function(e){return console.log(e.response)})}},{key:"render",value:function(){this.props.match.params.id;if(console.log(this.state.items),this.state.loading)return s.a.createElement("div",{className:this.state.loading&&"App-logo"},"Shop");var e={};this.state.items.forEach(function(t){e[t.type]||(e[t.type]=[]),e[t.type].push(t)});var t=Object.values(e).map(function(e){var t="accessories"==e[0].type.toLowerCase()?"":e[0].type.toLowerCase();return console.log(t,e[0].type.toLowerCase()),s.a.createElement(g.a,{path:"/shop/".concat(t),render:function(){return s.a.createElement(R,{items:e})}})});return s.a.createElement("div",{className:"Shop"},s.a.createElement("div",{className:"links"},s.a.createElement(B.a,{exact:!0,to:"/shop/"},"Accessories"),s.a.createElement(B.a,{to:"/shop/pets"},"Pets"),s.a.createElement(B.a,{to:"/shop/backgrounds"},"Backgrounds")),s.a.createElement(I.a,{resistance:!0,replace:!0,enableMouseEvents:!0},t))}}]),t}(s.a.Component)),D=(a(110),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).changeTask=function(e){var t=a.state.index,n=a.props.currentUser;a.service.put("/users/".concat(n._id,"/tasks/").concat(e._id),{index:t}).then(function(s){200===s.status?(n.tasks[t]=e,a.props.setUser(n),a.props.history.go(-2)):Promise.reject(s)}).catch(function(e){return console.log(e.response.data)})},a.state={loading:!0,tasks:null,index:N.a.parse(e.location.search).index},a.service=b.a.create({baseURL:"https://best-of-me.herokuapp.com",withCredentials:!0}),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.service.get("/tasks").then(function(t){e.setState({tasks:t.data,loading:!1})}).catch(function(e){return console.log(e.response)})}},{key:"render",value:function(){var e=this;if(this.state.loading)return s.a.createElement("div",null,"loading");var t=this.state.tasks;return s.a.createElement("ul",{className:"Tasks"},t.map(function(t){return s.a.createElement("li",null,s.a.createElement("details",null,s.a.createElement("summary",null,s.a.createElement("div",null,s.a.createElement("h2",null,t.name),s.a.createElement("p",null,"+",t.points," points")),s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},s.a.createElement("path",{d:"M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z"}))),s.a.createElement("div",null,s.a.createElement("p",null,t.description),s.a.createElement("button",{onClick:function(){return e.changeTask(t)}},s.a.createElement("b",null,"Chose task")))),s.a.createElement("div",{className:"separator"}))}))}}]),t}(s.a.Component)),P=(a(112),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={loading:!0,task:null,taskToChange:null,redirect:null,index:N.a.parse(a.props.location.search).index},a.service=b.a.create({baseURL:"https://best-of-me.herokuapp.com",withCredentials:!0}),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.location.pathname;this.service.get(t).then(function(t){e.setState({task:t.data[0],loading:!1})}).catch(function(e){return console.log(e.response)})}},{key:"render",value:function(){var e=this.state.taskToChange;if(e)return s.a.createElement(j.a,{to:{pathname:"/",state:{taskToChange:e}}});if(this.state.loading)return s.a.createElement("div",null,"loading");var t=this.state,a=t.task,n=t.index;return a._id?s.a.createElement("div",{className:"Task"},s.a.createElement("div",{className:"task"},s.a.createElement("h2",null,a.name),s.a.createElement("p",null,"+",a.points," points"),s.a.createElement("p",null,a.description),s.a.createElement(O.a,{to:"/?index=".concat(n)},s.a.createElement("b",null,"Complete!")),s.a.createElement(O.a,{to:"/tasks?index=".concat(n)},"Change"))):s.a.createElement("div",null,"Task not found")}}]),t}(s.a.Component)),$=(a(114),function(){return s.a.createElement("footer",null,s.a.createElement(B.a,{exact:!0,to:"/"},s.a.createElement(S.a,{class:"icon",src:"/static/svg/home-icon.svg"}),s.a.createElement("b",null,"Home")),s.a.createElement(B.a,{to:"/speedHelp"},s.a.createElement(S.a,{class:"icon",src:"/static/svg/speedHelp-icon.svg"}),"Speed Help"),s.a.createElement(B.a,{to:"/diary"},s.a.createElement(S.a,{class:"icon",src:"/static/svg/diary-icon.svg"}),"Diary"),s.a.createElement(B.a,{to:"/shop"},s.a.createElement(S.a,{class:"icon",src:"/static/svg/shop-icon.svg"}),"Shop"))}),z=function(e){var t=e.currentUser;return s.a.createElement("div",null,s.a.createElement("img",{src:t.image,alt:t.username}),s.a.createElement("p",null,t.username))},J=(a(116),function(){var e=W.a.advises.advise1;return console.log(e),s.a.createElement("div",{className:"Advises"},s.a.createElement("h2",null,"Advise:"),s.a.createElement("p",null,e.text),s.a.createElement("p",null,e.text2),"Suggestion:",s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("img",{src:e.suggestion[0].image,alt:e.suggestion[0].image}),s.a.createElement("p",null,e.suggestion[0].text)),s.a.createElement("div",null,s.a.createElement("img",{src:e.suggestion[1].image,alt:e.suggestion[1].image}),s.a.createElement("p",null,e.suggestion[1].text))))}),K=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).service=new k,a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;if(this.props.currentUser){var t=this.props.currentUser;return s.a.createElement("div",{className:"App"},s.a.createElement(g.a,{path:"/",component:A}),s.a.createElement(h.a,null,s.a.createElement(g.a,{path:"/",exact:!0,render:function(a){var n=a.location,r=a.history;return s.a.createElement(H,{currentUser:t,location:n,history:r,setUser:e.props.setUser})}}),s.a.createElement(g.a,{path:"/speedHelp/advises",component:J}),s.a.createElement(g.a,{path:"/speedHelp/:id?",component:M}),s.a.createElement(g.a,{path:"/diary/:id(\\w+)?/:id2(\\w+)?",component:T}),s.a.createElement(g.a,{path:"/shop/:id(\\w+)?",component:_}),s.a.createElement(g.a,{path:"/tasks/:id(\\w+)",render:function(a){return s.a.createElement(P,Object.assign({},a,{currentUser:t,setUser:e.props.setUser}))}}),s.a.createElement(g.a,{path:"/tasks",render:function(a){return s.a.createElement(D,Object.assign({},a,{currentUser:t,setUser:e.props.setUser}))}}),s.a.createElement(g.a,{path:"/profile",render:function(){return s.a.createElement(z,{currentUser:t})}}),s.a.createElement(g.a,{component:function(){return s.a.createElement("div",null,"404")}})),s.a.createElement(g.a,{path:"/",component:$}))}return s.a.createElement(j.a,{to:"/auth/login"})}}]),t}(s.a.Component),Z=(a(118),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).setUser=function(t){e.setState({currentUser:t})},e.getUser=function(t){e.service.loggedin().then(function(t){setTimeout(function(){200===t.status?e.setState({currentUser:t.data,loading:!1}):e.setState({loading:!1})},1e3)}).catch(function(e){return console.log(e)})},e.state={currentUser:null,loading:!0},e.service=new k,e}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.getUser()}},{key:"render",value:function(){var e=this;return this.state.loading?s.a.createElement("div",{className:"App"},s.a.createElement("img",{className:"loading",alt:"loading",src:"static/img/loading.png"})):s.a.createElement(h.a,null,s.a.createElement(g.a,{path:"/auth",render:function(){return s.a.createElement(x,{className:"App",currentUser:e.state.currentUser,setUser:e.setUser})}}),s.a.createElement(g.a,{path:"/",render:function(){return s.a.createElement(K,{className:"App",currentUser:e.state.currentUser,setUser:e.setUser})}}))}}]),t}(n.Component));a(119),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(i.a,{basename:"/client/"},s.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},20:function(e,t){e.exports={feelings:{ansiedad:{text:"Anxiety",image:"/static/svg/anxiety.svg"},angustia:{text:"Anguish",image:"/static/svg/anguish.svg"},ira:{text:"Wrath",image:"/static/svg/wrath.svg"},tristeza:{text:"Sadness",image:"/static/svg/sadness.svg"},nose:{text:"I do not have it clear",image:"/static/svg/notClear.svg"}},situations:{trabajo:{text:"Work",image:"/static/svg/work.svg"},paseo:{text:"Taking a walk",image:"/static/svg/walking.svg"},fiesta:{text:"Partying",image:"/static/svg/party.svg"},estudio:{text:"studying",image:"/static/svg/study.svg"},casa:{text:"At home",image:"/static/svg/home.svg"},amigos:{text:"With friends",image:"/static/svg/friends.svg"}},happenings:{rechazo:{text:"Rejection",image:"/static/svg/rejection.svg"},acoso:{text:"Bullying",image:"/static/svg/bullying.svg"},discusion:{text:"Discussion",image:"/static/svg/discussion.svg"},ruptura:{text:"Breaking off",image:"/static/svg/break.svg"},nada:{text:"Nothing Special",image:""}},advises:{advise1:{text:"It is normal to discuss with co-workers, especially when there are stress situations involved.",text2:"Try to breathe deeply and relax, think objectively and find a way to solve problems one by one.",suggestion:[{image:"/static/svg/bom-icon.svg",text:"Relax playing with BoM for a while"},{image:"/static/svg/info.svg",text:"Keep reading other tips"}]}}}},29:function(e,t,a){},41:function(e,t,a){e.exports=a(121)},46:function(e,t,a){},71:function(e,t,a){},73:function(e,t,a){},82:function(e,t,a){},84:function(e,t,a){}},[[41,2,1]]]);
//# sourceMappingURL=main.9f67cdec.chunk.js.map